(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[54959,38738,18663,15933,45512,75728,74503,71993,49613,42109,36418,98728],{63367:(e,t,r)=>{var n,o;void 0===(o="function"==typeof(n=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function s(e){var t=l();return function(){var r,n=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=d(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},p.apply(this,arguments)}var f=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,r){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:r})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0,o=r.length;n<o;n++)if(r[n].callback===t)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),r=0,n=t.length;r<n;r++){var o=t[r];try{o.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}o.options&&o.options.once&&this.removeEventListener(e.type,o.callback)}return!e.defaultPrevented}}}]),t}(),E=function(t){o(a,t);var r=s(a);function a(){var t;return e(this,a),(t=r.call(this)).listeners||f.call(c(t)),Object.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(c(t),"reason",{value:void 0,writable:!0,configurable:!0}),t}return n(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),p(i(a.prototype),"dispatchEvent",this).call(this,e)}}]),a}(f),g=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new E,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(e){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}var r=e;if(void 0===r)if("undefined"==typeof document)(r=new Error("This operation was aborted")).name="AbortError";else try{r=new DOMException("signal is aborted without reason")}catch(e){(r=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=r,this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();function h(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}function v(e){"function"==typeof e&&(e={fetch:e});var t=e,r=t.fetch,n=t.Request,o=void 0===n?r.Request:n,i=t.AbortController,a=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,l=void 0!==a&&a;if(!h({fetch:r,Request:o,AbortController:i,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:l}))return{fetch:r,Request:c};var c=o;(c&&!c.prototype.hasOwnProperty("signal")||l)&&((c=function(e,t){var r;t&&t.signal&&(r=t.signal,delete t.signal);var n=new o(e,t);return r&&Object.defineProperty(n,"signal",{writable:!1,enumerable:!1,configurable:!0,value:r}),n}).prototype=o.prototype);var u=r;return{fetch:function(e,t){var r=c&&c.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(r){var n;try{n=new DOMException("Aborted","AbortError")}catch(e){(n=new Error("Aborted")).name="AbortError"}if(r.aborted)return Promise.reject(n);var o=new Promise((function(e,t){r.addEventListener("abort",(function(){return t(n)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([o,u(e,t)])}return u(e,t)},Request:c}}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(g.prototype[Symbol.toStringTag]="AbortController",E.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(h(e))if(e.fetch){var t=v(e),r=t.fetch,n=t.Request;e.fetch=r,e.Request=n,Object.defineProperty(e,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:g}),Object.defineProperty(e,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:E})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:r.g)})?n.call(t,r,t,e):n)||(e.exports=o)},28734:function(e){e.exports=function(){"use strict";return function(e,t,r){var n=t.prototype,o=n.format;r.en.ordinal=function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"},n.format=function(e){var t=this,r=this.$locale(),n=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return r.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return r.ordinal(t.week(),"W");case"w":case"ww":return n.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return n.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return n.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return o.bind(this)(i)}}}()},75136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var n=r(67294),o=r(45697),i=r.n(o),a=r(16550),l=r(49486),c=r(94610),u=r(20544),s=r(82424),d=r(77100),p=r(9127),f=r(24223),E=r(48169),g=r(5938),h={background:"none"},v={width:"100%",borderRadius:"20px 20px 0 0",overflow:"hidden"},m=e=>{var t,{history:r,header:o,isShrinkable:i,searchActionButtonData:m,actionButtons:I,translucent:R,backgroundColor:O,hideBackButton:b,textColor:y,bottomNavigation:C,isCWCPage:_,customBackColor:P,isNativeDevice:L}=e,{backgroundImageUrl:S=null,title:T="",subtitle:w="",expandedRatio:A=.33,logo:k=null,centerContent:x=!1}=o,D=(0,n.useRef)(null),[N,U]=(0,n.useState)(!1),B=!i||N,M=k&&k.imageUrl&&k.height,H="right"===(null==k?void 0:k.alignment),F=(0,a.k6)();(0,f.useScrollPosition)((e=>{var{currPos:t}=e;return U(t.y<-20)}),[],D);var j=(e,t)=>()=>{e&&(0,E.redirectFromExplore)(r,e,t)},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.createElement(n.Fragment,null,n.createElement(g.HeaderTitleContentTitle,{textColor:y||l.default.WHITE,showBoldFont:e,hasLeftMargin:t},T||""),H?null:n.createElement(g.HeaderTitleContentSubTitle,null,w||""))},V=e=>{var t,r,n=(null==e||null===(t=e.currentTarget)||void 0===t||null===(r=t.dataset)||void 0===r?void 0:r.index)||0,{items:o=[]}=C,{cta:i="",text:a=""}=o[n];return"Resend Confirmation"===a?F.push(window.location.pathname,{modalType:"resendConfirmation"}):i?F.push(i):null},W=()=>{F.replace(window.location.pathname,{modalType:""})},K=(e=>{var{state:t}=F.location;return(null==t?void 0:t.modalType)===e})("resendConfirmation");return(0,n.useState)((()=>{(()=>{var{state:e,pathname:t}=F.location;F&&null!=e&&e.modalType&&(F.replace(t),F.goBack())})()}),[]),n.createElement(n.Fragment,null,n.createElement(g.HeaderContainer,{ref:D,isShrinkable:i,backgroundImageUrl:S,expandedRatio:A,translucent:R,isCWCPage:_},n.createElement(g.HeaderTitle,{isHeaderVisible:B,translucent:R,backgroundColor:O,isCWCPage:_,hideBackButton:b},!b&&n.createElement(g.HeaderLeftIconContainer,{marginRight:M&&m&&m.length?36*m.length-20:0,onClick:()=>{L?((0,s.closeWebView)(),(0,s.CloseLeWebView)()):(0,E.goBack)(r)}},n.createElement(p.LeftArrow,{color:P})),H?G(!0,!b):null,n.createElement(g.HeaderTitleContent,{isTypeLogo:M||x,isRightAligned:H,isLeftAligned:"left"===(null==k?void 0:k.alignment)},n.createElement(g.HeaderTitleContentWrapper,{isVisible:B},M?n.createElement(g.HeaderImage,{height:k.height,src:k.imageUrl}):G())),n.createElement(g.HeaderRightIconWrapper,null,I&&I.length?I.map((e=>{var{iconUrl:t=null,ctaUrl:r=null,analytics:o={}}=e;return t?n.createElement(g.HeaderRightIconContainer,{onClick:j(r,o)},n.createElement(d.default,{src:t,shouldLoadImmediately:!0,hasThumbnail:!1})):null})):m.map((e=>{var{iconUrl:t,ctaUrl:r=null,analytics:o={}}=e;return t?n.createElement(g.HeaderRightIconContainer,{key:t,onClick:j(r,o)},n.createElement(d.default,{src:t,shouldLoadImmediately:!0,hasThumbnail:!1,customContainerStyle:h})):null})))),n.createElement(g.HeaderBody,{isVisible:!B},n.createElement(g.HeaderBodyTitle,null,T||""),n.createElement(g.HeaderBodySubTitle,null,w||"")),null!=C&&null!==(t=C.items)&&void 0!==t&&t.length?n.createElement(g.MobileBottomNavigation,{height:(null==C?void 0:C.height)||25,backgroundColor:(null==C?void 0:C.backgroundColor)||l.default.WHITE},null==C?void 0:C.items.map(((e,t)=>{var{text:r}=e;return n.createElement(g.NavItem,{color:(null==C?void 0:C.color)||l.default.WHITE,"data-index":t,onClick:V},r)}))):null),K&&n.createElement(u.default,{close:W,position:"bottom",modalStyle:v},n.createElement(c.default,{unMountModal:W})))};m.defaultProps={history:{},isShrinkable:!0,header:{},searchActionButtonData:[],actionButtons:[],translucent:!1,backgroundColor:l.default.BLUE_GREY_1,hideBackButton:!1,textColor:l.default.WHITE,bottomNavigation:{height:25,backgroundColor:l.default.WHITE,items:[],color:l.default.WHITE},isCWCPage:!1,customBackColor:l.default.WHITE,isNativeDevice:!1},m.propTypes={history:i().shape({}),isShrinkable:i().bool,header:i().shape({backgroundImageUrl:i().string,title:i().string,subtitle:i().string,expandedRatio:i().number,logo:i().shape({}),centerContent:i().bool}),searchActionButtonData:i().arrayOf(i().shape({})),actionButtons:i().arrayOf(i().shape({})),translucent:i().bool,backgroundColor:i().string,hideBackButton:i().bool,textColor:i().string,bottomNavigation:i().shape({height:i().string,backgroundColor:i().string,items:i().shape([]),color:i().string}),isCWCPage:i().bool,customBackColor:i().string,isNativeDevice:i().bool};const I=(0,n.memo)(m)},5938:(e,t,r)=>{"use strict";r.r(t),r.d(t,{HeaderBody:()=>g,HeaderBodySubTitle:()=>v,HeaderBodyTitle:()=>h,HeaderContainer:()=>i,HeaderImage:()=>p,HeaderLeftIconContainer:()=>l,HeaderRightIconContainer:()=>c,HeaderRightIconWrapper:()=>u,HeaderTitle:()=>a,HeaderTitleContent:()=>s,HeaderTitleContentSubTitle:()=>E,HeaderTitleContentTitle:()=>f,HeaderTitleContentWrapper:()=>d,MobileBottomNavigation:()=>m,NavItem:()=>I});var n=r(93352),o=r(46381),i=n.default.div.withConfig({componentId:"sc-1wgzxn0-0"})(["position:relative;overflow:hidden;"," "," "," ",";"],(e=>{var{expandedRatio:t,isShrinkable:r,theme:n}=e;return r?"min-height: calc(100vw * ".concat(t,");background: ").concat(n.BLUE_GREY_1,";"):"min-height: 56px;"}),(e=>{var{backgroundImageUrl:t=null}=e;return t?"background-image: url(".concat(t,");background-size: cover;"):""}),(e=>{var{translucent:t,theme:r}=e;return t?"background-color: ".concat(r.BLUE_GREY_1):null}),(e=>{var{isCWCPage:t}=e;return t?"min-height: 76px":""})),a=(0,n.default)(o.VerticalFlexBox).withConfig({componentId:"sc-1wgzxn0-1"})(["position:fixed;width:100%;left:0;top:0;z-index:",";height:",";align-items:center;padding:",";transition:background 0.4s;animation-direction:alternate;background:",";@supports ((-webkit-backdrop-filter:blur(25px)) or (backdrop-filter:blur(25px))){background:",";}"],(e=>e.theme.headerZ),(e=>{var{isCWCPage:t}=e;return t?"76px":"56px"}),(e=>{var{hideBackButton:t}=e;return t?"0 16px":"0 14px 0 20px"}),(e=>{var{isHeaderVisible:t=!1,backgroundColor:r}=e;return t?r:"linear-gradient(180deg, rgba(0, 0, 0, 0.84) 0%, rgba(0, 0, 0, 0.3) 62.5%, rgba(0, 0, 0, 0) 100%);"}),(e=>{var{translucent:t=!1}=e;return t?"linear-gradient(180deg, rgba(0, 0, 0, 0.65) 0%, rgba(0, 0, 0, 0.1) 100%);\n\t\t\tbackdrop-filter: blur(25px);\n\t\t\t-webkit-backdrop-filter: blur(25px)":""})),l=n.default.div.withConfig({componentId:"sc-1wgzxn0-2"})(["margin-left:4px;padding-top:4px;width:11.2px;",""],(e=>{var{marginRight:t}=e;return"margin-right: ".concat(t,"px;")})),c=n.default.div.withConfig({componentId:"sc-1wgzxn0-3"})(["margin:auto 6px;width:24px;"]),u=n.default.div.withConfig({componentId:"sc-1wgzxn0-4"})(["display:flex;margin-left:auto;"]),s=n.default.div.withConfig({componentId:"sc-1wgzxn0-5"})(["flex-grow:1;"," "," ",""],(e=>{var{isTypeLogo:t=!1}=e;return t?"width: fit-content;\n\t\t\t\tmargin-left: auto;\n\t\t\t\tmargin-right: auto;\n\t\t\t\tdisplay: flex;\n    \t\t\tjustify-content: center;":"margin-left: 24px;"}),(e=>{var{isRightAligned:t=!1}=e;return t?"justify-content: flex-end;":null}),(e=>{var{isLeftAligned:t=!1}=e;return t?"justify-content: flex-start;":null})),d=(0,n.default)(o.HorizontalFlexBox).withConfig({componentId:"sc-1wgzxn0-6"})(["display:",";"],(e=>{var{isVisible:t=!1}=e;return t?"flex":"none"})),p=n.default.img.withConfig({componentId:"sc-1wgzxn0-7"})(["",""],(e=>{var{height:t}=e;return t?"height: ".concat(t,"px;"):""})),f=n.default.div.withConfig({componentId:"sc-1wgzxn0-8"})(["font-size:16px;line-height:24px;font-weight:",";margin-left:",";color:",";"],(e=>{var{showBoldFont:t=!1}=e;return t?"500":"normal"}),(e=>{var{hasLeftMargin:t=!1}=e;return t?"20px":""}),(e=>{var{textColor:t}=e;return t})),E=n.default.div.withConfig({componentId:"sc-1wgzxn0-9"})(["color:",";font-size:12px;line-height:16px;"],(e=>e.theme.GREY_9)),g=n.default.div.withConfig({componentId:"sc-1wgzxn0-10"})(["position:absolute;bottom:0;left:0;width:100%;padding:16px;display:",";"],(e=>{var{isVisible:t=!1}=e;return t?"block":"none"})),h=n.default.div.withConfig({componentId:"sc-1wgzxn0-11"})(["color:",";font-weight:500;font-size:24px;line-height:28px;"],(e=>e.theme.WHITE)),v=n.default.div.withConfig({componentId:"sc-1wgzxn0-12"})(["color:",";font-size:12px;line-height:16px;"],(e=>e.theme.WHITE)),m=n.default.div.withConfig({componentId:"sc-1wgzxn0-13"})(["background:",";width:100%;position:fixed;top:56px;z-index:",";border-top:0.5px solid ",";box-shadow:0px 4px 8px 1px #00000040;overflow:auto;white-space:nowrap;"],(e=>{var{backgroundColor:t}=e;return t}),(e=>e.theme.headerZ),(e=>e.theme.GREY_3)),I=n.default.a.withConfig({componentId:"sc-1wgzxn0-14"})(["text-decoration:none;font-size:12px;color:",";font-weight:500;display:inline-block;padding:10px;text-align:center;"],(e=>{var{color:t}=e;return t}))},96549:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ShrinkableHeader:()=>n.default});var n=r(75136)},47799:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r(87462),o=r(4942),i=r(15861),a=r(67294),l=r(45697),c=r.n(l),u=r(2560),s=r(14494),d=r(16550),p=r(79153),f=r(26245),E=r(76652),g=r(61478),h=r(89095),v=r(55702),m=r(30346),I=r(15837),R=r(54430),O=r(49486),b=r(85316),y=r(178),C=r(96549),_=r(48169),P=r(46381),L=r(64909),S=r(51529),T=r(14858);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=e=>{var{isHomePage:t,getDiscoveryData:r,currentPage:o,handleUseAppClick:l,customHeaderProps:c,setSidebarOpen:w,isDesktop:k}=e,{cookies:x,explore:D,appConfig:N,appPromotionData:U,isFpEnabled:B=!1,isCWCPage:M=!1}=(0,s.v9)((e=>{var t,r;return{cookies:e.cookies,explore:e.explore,appConfig:(0,p.thirdPartyOnlyCCMSConfig)(e.appConfig)?e.appConfig:null,isFpEnabled:null==e||null===(t=e.appConfig)||void 0===t?void 0:t.isFpEnabled,appPromotionData:e.appPromotionReducer,isCWCPage:null==e||null===(r=e.appConfig)||void 0===r?void 0:r.isCWCPage}})),{rgn:H,bmsId:F,isLoggedIn:j,userData:G,platform:V}={rgn:x.rgn,bmsId:x[f.CLICKSTREAM_BMS_ID],isLoggedIn:(0,p.checkUserLogin)(x[f.COOKIE_USER_DETAIL]),userData:x[f.COOKIE_USER_DETAIL],platform:x[f.COOKIE_PLATFORM]},{header:W,actions:K,analyticsData:Y}={header:D[o].header,actions:D[o].actions,analyticsData:(0,p.getIn)(D[o],["meta","analytics"])||null},{displayMode:z}=U,[q,Z]=(0,a.useState)(Y&&Y.category||"all"),Q=(0,d.k6)(),$=(0,d.TH)(),J=(0,s.I0)(),X=(0,p.getIn)(N,["appCode"])||null,ee=(0,p.getIn)(N,["header"])||{},te=!N||((0,p.getIn)(ee,["isVisible"])||!1),re=!N||((0,p.getIn)(ee,["isSearchIconVisible"])||!1),{code:ne}=V||{},oe=ne===R.ANDROID_APP_CODE,ie=ne===R.IOS_APP_CODE,ae=oe||ie,le=z&&"standalone"!==z&&!ae,{customBackgroundColor:ce="",customLogoUrl:ue=""}=c||{};(0,a.useEffect)((()=>{Z(Y&&Y.category||"all")}),[Y]);var se=function(){var e=(0,i.Z)((function*(e){document.body.setAttribute("style","");var{pathname:t}=$;if((0,_.isExploreStreamPage)(t)||(0,_.isExploreStreamL2Page)(t))return yield J((0,E.setCookie)({name:f.COOKIE_REGION,value:e})),void J((0,T.default)(t));!e||H.regionCode===e.regionCode&&H.subCode===e.subCode&&H.regionNameSlug===e.regionNameSlug||((0,_.isExploreHomePage)(t)||!Y?t="/explore/home/".concat(e.regionNameSlug):H&&(t=(0,p.getUpdatedReferer)(H,e,t)),yield J((0,E.setCookie)({name:f.COOKIE_REGION,value:e})),t===$.pathname?r(!0):(yield J((0,S.resetDiscovery)()),Q.replace(t)))}));return function(t){return e.apply(this,arguments)}}(),de=e=>{var t;J((0,g.saveUserProfileInCookieFromCommonModule)(x,e)),(0,b.getVisitorData)({visitorParams:{tag:{memberId:null==e||null===(t=e.cookieParams)||void 0===t?void 0:t.MEMBERID,flowType:"Login"}},isFpEnabled:B,dispatch:J}),J((0,h.getProfile)())},pe=()=>{J((0,g.logout)())},fe=()=>{!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,m.handleAnalyticsForAllVendors)({product:"discovery",screen_name:"home_discover",event_name:"install_app_click",label:e},!1,{toGA:!0,toCS:!0,toCT:!0})}("header_bms_app"),Q.push(v.APP_PROMOTION)},Ee=()=>{var e={};j&&(e={isLoggedIn:j,LSID:G.LSID,SEQUENCE:G.SEQUENCE,MEMBERID:G.MEMBERID,userName:"".concat(G.NAME||G.FIRSTNAME||""," ").concat(G.LASTNAME),WALLETSTATUS:"",PROFILEIMAGEURL:"",accountKitLinked:G.ACCOUNTLINKED,isEmailVerified:"Y"===G.EMAILVERIFIED,MEMBEREMAIL:G.MEMBEREMAIL,isMobileVerified:"Y"===G.OTPMOBVERIFIED,MOBILE:G.MOBILE,loyaltyVariantId:G.LOYALTYVARIANTID,loyaltyIsTargeted:G.LOYALTYISTARGETTED,loyaltyIsSubscribed:G.LOYALTYISSUBSCRIBED,ISPLUSLOGIN:G.ISPLUSLOGIN,ISFCONNECTLOGIN:G.ISFCONNECTLOGIN});var t=A(A({},e),{},{BMS_ID:F,rgn:H&&Object.keys(H).length?H:null,disableLanguageSelection:!0});return a.createElement(u.Z,(0,n.Z)({enableNewDiscovery:!0},t,c,{history:Q,page:q,onRegionClick:se,onSignInSuccess:de,onSignoutSuccess:pe,isAppPromotionEnabled:!1,handleUseAppClick:fe,setSidebarOpen:w}))};return t?a.createElement(a.Fragment,null,a.createElement(L.HeaderWrapper,null,te&&!k?a.createElement(y.default,{rgn:H,page:q,history:Q,title:"It All Starts Here!",isSelectedRegionSection:!0,dispatch:J,thirdPartyAppCode:X,isSearchIconEnabled:re,isAppPromotionEnabled:le&&X!==I.PHONEPE,handleUseAppClick:l,backgroundImage:(null==W?void 0:W.backgroundImageUrl)||"",backgroundPosition:(null==W?void 0:W.backgroundPosition)||""}):Ee())):k?a.createElement(P.DesktopOnlyContainer,{bgColor:ce},M?ue?a.createElement(L.CustomHeaderWrapper,null,a.createElement(L.CustomHeader,null,a.createElement(L.CustomHeaderImage,{src:ue,alt:"logo"}))):null:Ee()):a.createElement(P.MobileOnlyContainer,null,a.createElement(C.ShrinkableHeader,{history:Q,header:W,isShrinkable:W&&W.showExpandedHeader||!1,searchActionButtonData:W.actions?W.actions:[],actionButtons:K&&K.toolbar||[],translucent:W&&W.translucent||!1,backgroundColor:(null==W?void 0:W.backgroundColor)||O.default.BLUE_GREY_1,hideBackButton:(null==W?void 0:W.hideBackButton)||!1,textColor:(null==W?void 0:W.titleColor)||O.default.WHITE,bottomNavigation:(null==W?void 0:W.bottomNavigation)||{},isCWCPage:M,customBackColor:(null==W?void 0:W.customBackColor)||O.default.WHITE,isNativeDevice:ae}))};k.defaultProps={isHomePage:!1,getDiscoveryData:()=>null,currentPage:"home",handleUseAppClick:()=>null,customHeaderProps:{},setSidebarOpen:()=>null,isDesktop:!1},k.propTypes={isHomePage:c().bool,getDiscoveryData:c().func,currentPage:c().string,handleUseAppClick:c().func,customHeaderProps:c().shape({}),setSidebarOpen:c().func,isDesktop:c().bool};const x=k},178:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(67294),o=r(90968),i=r(26245),a=r(76652);const l=e=>{var{dispatch:t}=e;return(0,n.useEffect)((()=>{t((0,a.deleteCookie)({name:i.SEARCH_CONTAINER_TYPE}))}),[]),n.createElement(o.Z,e)}},64909:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CustomHeader:()=>m,CustomHeaderImage:()=>I,CustomHeaderWrapper:()=>v,DesktopTitle:()=>f,DiscoveryContainerWrapper:()=>c,DiscoveryContentContainer:()=>s,FixedActionButtons:()=>g,FooterWrapper:()=>h,HeaderWrapper:()=>u,ListingsContainer:()=>E,LoaderWrapper:()=>a,LoaderWrapperForFilter:()=>l,SideBarButtonWrapper:()=>p,SideBarContainer:()=>d});var n=r(93352),o=r(46381),i=r(35860),a=n.default.div.withConfig({componentId:"sc-b1h692-0"})(["margin-top:-56px;height:100vh;width:100vw;display:flex;"]),l=n.default.div.withConfig({componentId:"sc-b1h692-1"})(["height:calc(100vh - 308px);display:flex;"]),c=n.default.div.withConfig({componentId:"sc-b1h692-2"})(["display:flex;flex-direction:column;align-items:stretch;align-content:stretch;justify-content:flex-start;background:",";min-height:100vh;"," @media (min-width:","px){background:transparent;min-height:unset;padding-top:0;}"],(e=>{var{theme:t}=e;return t.WHITE}),(e=>{var{isHomePage:t}=e;return t&&"padding-top: 64px;"}),i.VIEWPORT_WIDTHS.DESKTOPSMALL),u=n.default.div.withConfig({componentId:"sc-b1h692-3"})(["flex:0 0 auto;overflow:hidden;"]),s=(0,n.default)(o.VerticalFlexBox).withConfig({componentId:"sc-b1h692-4"})(["width:100vw;margin:0 auto;@media (min-width:","px){","}"],i.VIEWPORT_WIDTHS.DESKTOPSMALL,(e=>{var{isHomePage:t}=e;return t?"":"margin-top: 64px; width: 92vw;max-width: 1240px;"})),d=(0,n.default)(o.DesktopOnlyContainer).withConfig({componentId:"sc-b1h692-5"})(["width:300px;margin-right:30px;"]),p=n.default.div.withConfig({componentId:"sc-b1h692-6"})(["margin-bottom:12px;"]),f=n.default.h1.withConfig({componentId:"sc-b1h692-7"})(["margin-bottom:24px;text-transform:capitalize;",""],(e=>{var{theme:t}=e;return"".concat(t["h5-bold"],"color: ").concat(t.GREY_1)})),E=n.default.div.withConfig({componentId:"sc-b1h692-8"})(["width:100vw;padding-bottom:","px;max-width:unset;background-image:url(",");background:",";@media (min-width:","px){"," padding-bottom:0;}"],(e=>{var{isHomePage:t}=e;return t?0:80}),(e=>{var{imageUrl:t}=e;return t}),(e=>{var{backgroundColor:t}=e;return t||"none"}),i.VIEWPORT_WIDTHS.DESKTOPSMALL,(e=>{var{isHomePage:t}=e;return t?"":"width: calc(92vw - 330px);max-width: calc(1240px - 330px);"})),g=(0,n.default)(o.MobileOnlyContainer).withConfig({componentId:"sc-b1h692-9"})([""]),h=n.default.div.withConfig({componentId:"sc-b1h692-10"})(["height:46px;flex:0 0 auto;"]),v=n.default.div.withConfig({componentId:"sc-b1h692-11"})(["display:flex;align-items:center;height:64px;"]),m=n.default.div.withConfig({componentId:"sc-b1h692-12"})(["max-width:958px;width:92%;margin:0px auto;"]),I=n.default.img.withConfig({componentId:"sc-b1h692-13"})(["height:44px;"])},61478:(e,t,r)=>{"use strict";r.r(t),r.d(t,{appleLoginResponse:()=>_,checkAndUpdateSuperstarCookie:()=>y,failureNetwork:()=>I,flushUserInfo:()=>b,logout:()=>R,removeUserDetails:()=>v,saveUserCookie:()=>C,saveUserProfileInCookieFromCommonModule:()=>m});var n=r(15861),o=r(4942),i=r(54430),a=r(9669),l=r.n(a),c=r(76652),u=r(26245),s=r(79153),d=r(49957),p=r(22165);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{MEMBERS_BASE_URL_PUBLIC:g}={MEMBERS_BASE_URL_PUBLIC:void 0},h=g||i.MEMBERS_API_URL_PUBLIC;function v(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{})(),r=(0,s.getIn)(t,["payments","checkSigninVerification"])||!1,n=[u.COOKIE_REGION,u.APP_LANGUAGE,u.TRANSACTION_ID,u.SEARCH_COACH_MARK,u.CLICKSTREAM_BMS_ID,u.COOKIE_USER_DETAILS,"session_id"];n=r?[...n,u.COOKIE_USER_DETAIL,u.INIT_TRANS_CLIENTID]:n,e((0,c.deleteAllCookies)({exceptions:[...n]}))}var m=(e,t)=>r=>{var{cookieParams:n,lsParams:o,SEQUENCE:a}=t,l=n,d=o;"Y"===l.ISPLUSLOGIN&&l.PLUSIMGURL&&(l.PLUSIMGURL=auth2.currentUser.get().getBasicProfile().getImageUrl()),e[i.SEQUENCE]||null||r((0,c.setCookie)({name:i.SEQUENCE,value:a,storage:u.LOCAL_STORAGE})),r((0,c.setCookie)({name:u.COOKIE_USER_DETAIL,value:E({},l),secure:!0})),r((0,c.setCookie)({storage:"L",name:"ud-ls",value:E(E({},d),{},{LASTLOGIN:(0,s.getCurrentDateTime)()})}))},I=e=>{e(p.failureNetwork())};function R(){return function(){var e=(0,n.Z)((function*(e,t){e(p.requestLogout());try{var{cookies:r}=t(),n=(0,s.getIn)(r,["ud","MEMBERID"])||"",o={headers:{"x-access-token":(0,s.getIn)(r,["ud","LSID"])||"","x-app-code":i.APP_CODE}},a="".concat(h,"/").concat(n,"/logout"),c=yield l().post(a,null,o);200===c.status&&null!=c&&c.data?O(t,e,c):e(p.failureLogout(i.GLOBAL_ERROR_MESSAGE))}catch(r){var u;(0,d.logError)(r),401===(null==r||null===(u=r.response)||void 0===u?void 0:u.status)&&O(t,e,null==r?void 0:r.response)}}));return function(t,r){return e.apply(this,arguments)}}()}function O(e,t,r){var n;r&&(null!=r&&null!==(n=r.data)&&void 0!==n&&n.id,b(t,e),t(p.receiveLogout()))}function b(e,t,r){var n=t();n.cookies[u.COOKIE_USER_DETAIL]&&(v(e,t),e(p.logout()),!n.payments.checkSigninVerification&&e((0,c.deleteCookie)({name:u.COOKIE_USER_DETAILS})),e((0,c.deleteCookie)({storage:"L",name:"ud-ls"})),e((0,c.deleteLocalStorage)({name:i.WALLET_STORES_CHECKED})),e((0,c.deleteCookie)({storage:"S",name:"hideVerifyNudge"})),!r&&location.reload())}function y(e){return t=>{t((0,c.deleteCookie)({name:u.IS_RELEVANT_PROFILE_SUPERSTAR})),t((0,c.setCookie)({name:u.IS_RELEVANT_PROFILE_SUPERSTAR,value:e}))}}var C=e=>t=>t((0,c.setCookie)({name:u.COOKIE_USER_DETAIL,value:E({},e),secure:!0})),_=function(){var e=(0,n.Z)((function*(e){try{return yield l().post(i.APPLE_LOGIN_URL,e)}catch(e){(0,d.logError)(e)}}));return function(t){return e.apply(this,arguments)}}()},22165:(e,t,r)=>{"use strict";r.r(t),r.d(t,{failureLogout:()=>c,failureNetwork:()=>o,linkAccountType:()=>u,loginReferer:()=>s,logout:()=>i,receiveLogout:()=>l,redirectToOrderSummary:()=>d,requestLogout:()=>a});var n=r(85867);function o(){return{type:n.FAILURE_NETWORK}}function i(){return{type:n.LOGOUT}}function a(){return{type:n.REQUEST_LOGOUT}}function l(){return{type:n.RECEIVE_LOGOUT}}function c(){return{type:n.FAILURE_LOGOUT}}function u(e){return{type:n.LINK_ACCOUNT_TYPE,data:e}}function s(e){return{type:n.LOGIN_REFERER,data:e}}function d(){return{type:n.REDIRECT_TO_ORDER_SUMMARY}}},89095:(e,t,r)=>{"use strict";r.r(t),r.d(t,{cancelGetProfileAPICall:()=>R,checkSetPII:()=>C,fetchPincode:()=>y,getProfile:()=>I,removeProfilePic:()=>_,resetFlags:()=>m,setProfile:()=>O,setProfilePic:()=>b});var n=r(15861),o=r(4942),i=r(9669),a=r.n(i),l=r(76652),c=r(26245),u=r(54430),s=r(49957),d=r(79153),p=r(98645);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=u.APP_VERSION,h=u.APP_CODE,v=null;function m(){return e=>{e(p.resetFlags())}}var I=()=>function(){var e=(0,n.Z)((function*(e,t){try{e(p.requestGetProfile());var{cookies:r,experimentation:{experimentsSlug:n=""}={}}=t(),{ud:{MEMBERID:o="",LSID:i=""}={}}=r;v=new AbortController;var f={method:"GET",url:"".concat(u.MAPI_BASE_URL_CLIENT,"/v2/mobile/profile"),headers:E(E(E({},o&&{"x-member-id":o}),i&&{"x-lsid":i}),n&&{"x-ab-testing":n}),params:{appCode:u.APP_CODE},timeout:1e4,signal:v.signal},g=yield a()(f),{status:h,data:m={}}=g||{};return 200===h&&m?function(e,t){var{cookieParams:r,lsParams:n}=(0,d.filterUDCookie)(e.profile),o=(0,d.getIn)(e,["superstar","isSuperstar"])||{},{MEMBEREMAIL:i,MOBILE:a,FIRSTNAME:s,LASTNAME:f,FAV:g="",COHORTS:h=""}=(0,d.getIn)(e,["profile"])||{};t((0,l.computeAndUpdateCookie)({name:c.COOKIE_USER_DETAIL,valueToBeUpdated:r,type:c.DATA_TYPE.OBJECT})),t((0,l.computeAndUpdateCookie)({name:c.COOKIE_FAV,valueToBeUpdated:g.split(";"),maxSize:c.FAV_COOKIE_ARRAY_SIZE})),t((0,l.setCookie)({storage:"L",name:"ud-ls",value:E({},n)})),t((0,l.setCookie)({storage:"L",name:"userDetails-ls",value:{isSuperstar:o,MEMBEREMAIL:i,MOBILE:a,FIRSTNAME:s,LASTNAME:f}})),t((0,l.setCookie)({name:c.COOKIE_COHORTS,value:h})),t((0,l.setCookie)({name:c.COOKIE_USER_DETAILS,value:{deemedUserEmail:i,deemedUserMobile:a,countryCode:u.COUNTRY_CODE}})),t((0,l.setCookie)({name:c.COOKIE_USER_DETAILS_EMAIL_WEB_PG,value:i,secure:!0,stringify:!1})),t((0,l.setCookie)({name:c.COOKIE_USER_DETAILS_MOBILE_WEB_PG,value:a,secure:!0,stringify:!1})),t(p.receiveGetProfile(E(E({},e),{},{excludeModal:!0})))}(m,e):e(p.failureGetProfile(m))}catch(t){var I;if(!a().isCancel(t))return(0,s.logError)(t),e(p.failureGetProfile(null==t||null===(I=t.response)||void 0===I?void 0:I.data))}}));return function(t,r){return e.apply(this,arguments)}}(),R=()=>{var e;v&&(null===(e=v)||void 0===e||e.abort())};function O(e){return function(){var t=(0,n.Z)((function*(t,r){t(p.requestProfileUpdate());try{var{cookies:n}=r(),o={memberId:(0,d.getIn)(n,["ud","MEMBERID"])||"",lsid:(0,d.getIn)(n,["ud","LSID"])||"",appCode:h,appVersion:g},i=yield a().put(u.SET_PROFILE_API,{body:e,options:o});return 200===i.status&&i.data?t(p.receiveProfileUpdate(i.data)):t(p.failureProfileUpdate(u.GLOBAL_ERROR_MESSAGE)),i}catch(e){(0,s.logError)(e)}}));return function(e,r){return t.apply(this,arguments)}}()}function b(e){return function(){var t=(0,n.Z)((function*(t,r){t(p.requestProfilePic());try{var{cookies:n}=r(),o=(0,d.getIn)(n,["ud","MEMBERID"])||"",i={headers:{"x-access-token":(0,d.getIn)(n,["ud","LSID"])||"","x-app-version":g,"x-platform":h}},l="".concat(u.MEMBERS_API_ENDPOINT,"/").concat(o,"/set-profile-picture"),c=new FormData;c.append("profilePicture",e);var f=yield a().post(l,c,i);return 200===f.status&&f.data?t(p.receiveProfilePic(f.data)):t(p.failureProfilePic(u.GLOBAL_ERROR_MESSAGE)),f}catch(e){(0,s.logError)(e)}}));return function(e,r){return t.apply(this,arguments)}}()}function y(e){return(0,n.Z)((function*(){try{return yield a().post(u.FETCH_PINCODE_API,{code:e})}catch(e){(0,s.logError)(e)}}))}function C(e){return function(){var t=(0,n.Z)((function*(t,r){t(p.requestVerifyPii());try{var{cookies:n}=r(),o={headers:{memberId:(0,d.getIn)(n,["ud","MEMBERID"])||"",lsid:(0,d.getIn)(n,["ud","LSID"])||"",appCode:h,appVersion:g}},i=yield a().post(u.CHECK_SET_PII,e,o);return 200===i.status&&i.data?t(p.receiveVerifyPii(i.data)):t(p.failureVerifyPii(u.GLOBAL_ERROR_MESSAGE)),i}catch(e){(0,s.logError)(e)}}));return function(e,r){return t.apply(this,arguments)}}()}function _(e){return function(){var t=(0,n.Z)((function*(t,r){t(p.requestRemovePic());try{var{cookies:n}=r(),o={headers:{memberId:(0,d.getIn)(n,["ud","MEMBERID"])||"",lsid:(0,d.getIn)(n,["ud","LSID"])||"",appCode:h,appVersion:g}},i=yield a().post(u.REMOVE_PROFILE_PIC_API,e,o);return 200===i.status&&i.data?t(p.receiveRemovePic(i.data)):t(p.failureRemovePic(u.GLOBAL_ERROR_MESSAGE)),i}catch(e){(0,s.logError)(e)}}));return function(e,r){return t.apply(this,arguments)}}()}},98645:(e,t,r)=>{"use strict";r.r(t),r.d(t,{failureGetProfile:()=>u,failureProfilePic:()=>E,failureProfileUpdate:()=>a,failureRemovePic:()=>v,failureVerifyPii:()=>O,receiveGetProfile:()=>c,receiveProfilePic:()=>f,receiveProfileUpdate:()=>i,receiveRemovePic:()=>h,receiveVerifyPii:()=>R,requestGetProfile:()=>l,requestProfilePic:()=>p,requestProfileUpdate:()=>o,requestRemovePic:()=>g,requestVerifyPii:()=>I,resetFlags:()=>s,resetProfilePic:()=>m,resetVerifyPii:()=>b,storeInputParams:()=>d});var n=r(88231);function o(){return{type:n.REQUEST_PROFILE_UPDATE}}function i(e){return{type:n.RECEIVE_PROFILE_UPDATE,data:e}}function a(e){return{type:n.FAILURE_PROFILE_UPDATE,data:e}}function l(){return{type:n.REQUEST_GET_PROFILE}}function c(e){return{type:n.RECEIVE_GET_PROFILE,data:e}}function u(e){return{type:n.FAILURE_GET_PROFILE,data:e}}function s(){return{type:n.RESET_EDIT_PROFILE_FLAGS}}function d(e){return{type:n.STORE_INPUT_PARAMS,inputParams:e}}function p(){return{type:n.REQUEST_PROFILE_PIC,payload:{status:n.PENDING}}}function f(e){return{type:n.RECEIVE_PROFILE_PIC,payload:{status:n.RESOLVED,data:e}}}function E(e){return{type:n.FAILURE_PROFILE_PIC,payload:{status:n.REJECTED,data:e}}}function g(){return{type:n.REQUEST_REMOVE_PIC,payload:{status:n.PENDING}}}function h(e){return{type:n.RECEIVE_REMOVE_PIC,payload:{status:n.RESOLVED,data:e}}}function v(e){return{type:n.FAILURE_REMOVE_PIC,payload:{status:n.REJECTED,data:e}}}function m(){return{type:n.RESET_PROFILE_PIC}}function I(){return{type:n.REQUEST_VERIFY_PII}}function R(e){return{type:n.RECEIVE_VERIFY_PII,data:e}}function O(e){return{type:n.FAILURE_VERIFY_PII,data:e}}function b(){return{type:n.RESET_VERIFY_PII}}},85316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getVisitorData:()=>P});var n=r(15861);var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}Object.create;function a(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;function l(e){for(var t="",r=0;r<e.length;++r)if(r>0){var n=e[r].toLowerCase();n!==e[r]?t+=" ".concat(n):t+=e[r]}else t+=e[r].toUpperCase();return t}var c="Blocked by CSP",u=l("WrongRegion"),s=l("SubscriptionNotActive"),d=l("UnsupportedVersion"),p=l("InstallationMethodRestricted"),f="API key required",E="API key not found",g="API key expired",h="9319";var v="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",m="Failed to load the JS script of the agent";function I(e){return function(e,t,r,n){var o,i=document,a="securitypolicyviolation",l=function(t){var r=new URL(e,location.href),n=t.blockedURI;n!==r.href&&n!==r.protocol.slice(0,-1)&&n!==r.origin||(o=t,u())};i.addEventListener(a,l);var u=function(){return i.removeEventListener(a,l)};return Promise.resolve().then(t).then((function(e){return u(),e}),(function(e){return new Promise((function(e){return setTimeout(e)})).then((function(){if(u(),o)return function(){throw new Error(c)}();throw e}))}))}(e,(function(){return function(e){return new Promise((function(t,r){var n=document.createElement("script"),o=function(){var e;return null===(e=n.parentNode)||void 0===e?void 0:e.removeChild(n)},i=document.head||document.getElementsByTagName("head")[0];n.onload=function(){o(),t()},n.onerror=function(){o(),r(new Error(m))},n.async=!0,n.src=e,i.appendChild(n)}))}(e)})).then(R)}function R(){var e=window,t="__fpjs_p_l_b",r=e[t];if(function(e,t){var r,n=null===(r=Object.getOwnPropertyDescriptor)||void 0===r?void 0:r.call(Object,e,t);(null==n?void 0:n.configurable)?delete e[t]:n&&!n.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==r?void 0:r.load))throw new Error(h);return r}function O(e){throw e instanceof Error&&e.message===h?new Error(m):e}var b={load:function(e){var t;e.scriptUrlPattern;var r=e.token,n=e.apiKey,l=void 0===n?r:n,u=i(e,["scriptUrlPattern","token","apiKey"]),s=null!==(t=function(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}(e,"scriptUrlPattern"))&&void 0!==t?t:v;return Promise.resolve().then((function(){if(!l||"string"!=typeof l)throw new Error(f);return function(e,t){var r=[];return function(e,t){var r,n,o=(n=a([],e,!0),{current:function(){return n[0]},postpone:function(){var e=n.shift();void 0!==e&&n.push(e)},exclude:function(){n.shift()}}),i=(r=0,function(){return Math.random()*Math.min(3e3,100*Math.pow(2,r++))}),l=o.current();if(void 0===l)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var u=function(e,r){return t(e).catch((function(e){if(r+1>=5)throw e;!function(e){if(!(e instanceof Error))return!1;var t=e.message;return t===c||t===h}(e)?o.postpone():o.exclude();var t,n=o.current();if(void 0===n)throw e;return(t=i(),new Promise((function(e){return setTimeout(e,t)}))).then((function(){return u(n,r+1)}))}))};return u(l,0)}(e,(function(e){var n=new Date,o=function(t){return r.push({url:e,startedAt:n,finishedAt:new Date,error:t})},i=t(e);return i.then((function(){return o()}),o),i})).then((function(e){return[e,{attempts:r}]}))}(function(e,t){return(Array.isArray(e)?e:[e]).map((function(e){return function(e,t){var r=encodeURIComponent;return e.replace(/<[^<>]+>/g,(function(e){return"<version>"===e?"3":"<apiKey>"===e?r(t):"<loaderVersion>"===e?r("3.8.5"):e}))}(String(e),t)}))}(s,l),I).catch(O)})).then((function(e){var t=e[0],r=e[1];return t.load(o(o({},u),{ldi:r}))}))},defaultScriptUrlPattern:v,ERROR_SCRIPT_LOAD_FAIL:m,ERROR_API_KEY_EXPIRED:g,ERROR_API_KEY_INVALID:E,ERROR_API_KEY_MISSING:f,ERROR_BAD_REQUEST_FORMAT:"Request cannot be parsed",ERROR_BAD_RESPONSE_FORMAT:"Response cannot be parsed",ERROR_CLIENT_TIMEOUT:"Client timeout",ERROR_CSP_BLOCK:c,ERROR_FORBIDDEN_ENDPOINT:l("HostnameRestricted"),ERROR_FORBIDDEN_HEADER:"Not available with restricted header",ERROR_FORBIDDEN_ORIGIN:"Not available for this origin",ERROR_GENERAL_SERVER_FAILURE:"Request failed",ERROR_INSTALLATION_METHOD_RESTRICTED:p,ERROR_INTEGRATION_FAILURE:l("IntegrationFailed"),ERROR_INVALID_ENDPOINT:"The endpoint parameter is not a valid URL",ERROR_NETWORK_ABORT:"Network request aborted",ERROR_NETWORK_CONNECTION:"Network connection error",ERROR_RATE_LIMIT:"Too many requests, rate limit exceeded",ERROR_SERVER_TIMEOUT:"Request failed to process",ERROR_SUBSCRIPTION_NOT_ACTIVE:s,ERROR_TOKEN_EXPIRED:g,ERROR_TOKEN_INVALID:E,ERROR_TOKEN_MISSING:f,ERROR_UNSUPPORTED_VERSION:d,ERROR_WRONG_REGION:u,defaultEndpoint:{default:"endpoint"},defaultTlsEndpoint:{default:"tlsEndpoint"}},y=r(54430),C=r(76652),_=r(49957),P=function(){var e=(0,n.Z)((function*(e){var{visitorParams:t,dispatch:r,isFpEnabled:n}=e;try{if(!n)return;var o=yield b.load({apiKey:y.FINGERPRINT_PUBLIC_KEY}),i=yield o.get({tag:null==t?void 0:t.tag,extendedResult:!0});return r((0,C.setCookie)({name:"visitorInfo",value:{visitorId:null==i?void 0:i.visitorId,device:null==i?void 0:i.device}})),i}catch(e){(0,_.logError)(e)}}));return function(t){return e.apply(this,arguments)}}()}}]);